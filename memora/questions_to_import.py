import frappe
import json

def create_memora_content():
    # 1. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุฃุณุงุณูุฉ
    subject_title = "ุชุงุฑูุฎ ุงูุฃุฑุฏู"
    unit_title = "ูุญุฏุฉ ุชุฌุฑูุจูุฉ"
    
    # 2. ุฅูุดุงุก ุงููุงุฏุฉ (Subject) ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
    if not frappe.db.exists("Game Subject", {"title": subject_title}):
        doc_sub = frappe.get_doc({
            "doctype": "Game Subject",
            "title": subject_title,
            "is_published": 1
        })
        doc_sub.insert()
        frappe.db.commit()
        print(f"โ ุชู ุฅูุดุงุก ุงููุงุฏุฉ: {subject_title}")
    else:
        print(f"โน๏ธ ุงููุงุฏุฉ ููุฌูุฏุฉ ูุณุจูุงู: {subject_title}")

    # 3. ุฅูุดุงุก ุงููุญุฏุฉ (Unit) ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
    if not frappe.db.exists("Game Unit", {"title": unit_title}):
        doc_unit = frappe.get_doc({
            "doctype": "Game Unit",
            "title": unit_title,
            "subject": subject_title, # Link field requires the name
            "order": 1
        })
        doc_unit.insert()
        frappe.db.commit()
        print(f"โ ุชู ุฅูุดุงุก ุงููุญุฏุฉ: {unit_title}")
    else:
        print(f"โน๏ธ ุงููุญุฏุฉ ููุฌูุฏุฉ ูุณุจูุงู: {unit_title}")

    # ==========================================
    # 4. ุชุนุฑูู ูุญุชูู ุงูุฏุฑูุณ (Data Definitions)
    # ==========================================
    
    lessons_data = [
        # --- Lesson 1 ---
        {
            "title": "ุงูุฏุฑุณ 1: ุงูุชุณููุฉ ูุจุฏุงูุฉ ุงูุชุงุฑูุฎ",
            "stages": [
                {
                    "title": "ุชุนูู: ูุนูู ุงุณู ุงูุฃุฑุฏู",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ููุฃุฑุฏู ุฃุณูุงุก ูุฏูุงูุงุช ูุฎุชููุฉ ุนุจุฑ ุงูุชุงุฑูุฎ.",
                        "highlights": [
                            {"word": "ููุฑุฏุงููู", "explanation": "ุงูุงุณู ุงูุฅุบุฑููู ููุฃุฑุฏู"},
                            {"word": "ุงูุดุฏูุฉ ูุงูุบููุจุฉ", "explanation": "ูุนูู ุงูุฃุฑุฏู ุนูุฏ ุงูุนุฑุจ"}
                        ]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงููุบุงุช ูุงููุนุงูู",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุทุงุจู ุจูู ุงููุบุฉ ูุงูุงุณู ุฃู ุงููุนูู",
                        "pairs": [
                            {"id": "1", "right": "ุงูุนุฑุจูุฉ", "left": "ุงูุดุฏูุฉ ูุงูุบููุจุฉ"},
                            {"id": "2", "right": "ุงูุขุฑุงููุฉ", "left": "ุงูููุฑ ุงููุชุนุฑุฌ"},
                            {"id": "3", "right": "ุงูุฅุบุฑูููุฉ", "left": "ููุฑุฏุงููู"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงูุงุณู ุงูุฅุบุฑููู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุงุฎุชุฑ ุงูุงุณู ุงูุตุญูุญ",
                        "sentence": "ุงูุงุณู ุงูุฅุบุฑููู ุงููุฏูู ููุฃุฑุฏู ูู {ููุฑุฏุงููู}.",
                        "blanks": ["ููุฑุฏุงููู"],
                        "distractors": ["ุฌูุฑุฏุงู", "ุงูุจุชุฑุงุก", "ุนูุงู"]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ููุฑ ุงูุฃุฑุฏู",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูู ุชุชููู ูููุฉ ุงูุฃุฑุฏูุ",
                        "sentence": "ุชุชููู ูููุฉ ุงูุฃุฑุฏู ูู ุฌูุฑ ู ุฏุงู ูููุง ุงูุฑุงูุฏุงู ุงูุดูุงููุงู ููููุฑ",
                        "words": ["ุชุชููู ูููุฉ ุงูุฃุฑุฏู", "ูู", "ุฌูุฑ", "ู", "ุฏุงู", "ูููุง", "ุงูุฑุงูุฏุงู ุงูุดูุงููุงู ููููุฑ"]
                    }
                },
                {
                    "title": "ุชุนูู: ุงุฎุชุฑุงุน ุงููุชุงุจุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ุงูุญุฏุซ ุงููุงุตู ุจูู ุงูุนุตูุฑ.",
                        "highlights": [
                            {"word": "3500 ู.ู", "explanation": "ุชุงุฑูุฎ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"},
                            {"word": "ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ", "explanation": "ุจุฏุฃุช ุจุนุฏ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"}
                        ]
                    }
                },
                {
                    "title": "ุชุญุฏูุฏ ุงูุชูุงุฑูุฎ",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุฃููู ุงูุชุงุฑูุฎ ุงูุตุญูุญ",
                        "sentence": "ุจุฏุฃุช ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ ููุฐ ุงุฎุชุฑุงุน ุงูุฅูุณุงู ูููุชุงุจุฉ ุนุงู {3500} ูุจู ุงููููุงุฏ.",
                        "blanks": ["3500"],
                        "distractors": ["4500", "2000", "1500"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุชูุณูู ุงูุนุตูุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุตููู ุงููุชุฑุงุช ุงูุชุงููุฉ",
                        "pairs": [
                            {"id": "1", "right": "ูุจู ุงููุชุงุจุฉ", "left": "ุนุตูุฑ ูุง ูุจู ุงูุชุงุฑูุฎ"},
                            {"id": "2", "right": "ุจุนุฏ ุงููุชุงุจุฉ", "left": "ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ"},
                            {"id": "3", "right": "2.5 ููููู ุณูุฉ", "left": "ุฃูุฏู ุจูุงูุง ุฃุซุฑูุฉ"}
                        ]
                    }
                }
            ]
        },
        # --- Lesson 2 ---
        {
            "title": "ุงูุฏุฑุณ 2: ุงูุนุตูุฑ ุงูุญุฌุฑูุฉ ูุชุทูุฑ ุงูุฅูุณุงู",
            "stages": [
                {
                    "title": "ุชุนูู: ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุฏูู",
                    "type": "Reveal",
                    "config": {
                        "image": "๐ฅ",
                        "sentence": "ุญูุงุฉ ุงูุฅูุณุงู ุงูุฃููู.",
                        "highlights": [
                            {"word": "ุงูุฌูุน ูุงูุงูุชูุงุท", "explanation": "ุทุฑููุฉ ุงูุนูุด ูู ุงูุญุฌุฑู ุงููุฏูู"},
                            {"word": "ุงููููู", "explanation": "ููุงู ุงูุณูู"},
                            {"word": "ุงููุงุฑ", "explanation": "ุงูุชุดุงู ููู ูู ูุฐุง ุงูุนุตุฑ"}
                        ]
                    }
                },
                {
                    "title": "ุชุฑุชูุจ ุงูุฃุญุฏุงุซ: ุงูุญุฌุฑู ุงูุญุฏูุซ",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูุงุฐุง ุญุฏุซ ูู ุงูุนุตุฑ ุงูุญุฌุฑู ุงูุญุฏูุซุ",
                        "sentence": "ุงุณุชูุฑ ุงูุฅูุณุงู ูู ูุฑู ุฒุฑุงุนูุฉ ูุฏุฌูู ุงูุญููุงูุงุช ูุจูู ุงูุจููุช",
                        "words": ["ุงุณุชูุฑ ุงูุฅูุณุงู", "ูู ูุฑู ุฒุฑุงุนูุฉ", "ูุฏุฌูู ุงูุญููุงูุงุช", "ูุจูู ุงูุจููุช"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุฎุตุงุฆุต ุงูุนุตูุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงุฑุจุท ูู ุนุตุฑ ุจููุฒุชู ุงูุฑุฆูุณูุฉ",
                        "pairs": [
                            {"id": "1", "right": "ุงูุญุฌุฑู ุงููุฏูู", "left": "ุงูุตูุฏ ูุณูู ุงููููู"},
                            {"id": "2", "right": "ุงูุญุฌุฑู ุงููุณูุท", "left": "ูุฑุญูุฉ ุงูุชูุงููุฉ (ุงูุฅูุชุงุฌ)"},
                            {"id": "3", "right": "ุงูุญุฌุฑู ุงูุญุฏูุซ", "left": "ุงููุฑู ูุงูุฒุฑุงุนุฉ"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงูุนุตุฑ ุงููุณูุท",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุง ูู ุฃุฏูุงุช ุงูุนุตุฑ ุงููุณูุทุ",
                        "sentence": "ุชููุฒ ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุณูุท ุจุฃุฏูุงุช ุตูุงููุฉ {ุฏูููุฉ} ูุธููุฑ ุงููุฏู {ุงูุตุบูุฑุฉ}.",
                        "blanks": ["ุฏูููุฉ", "ุงูุตุบูุฑุฉ"],
                        "distractors": ["ุถุฎูุฉ", "ุญุฏูุฏูุฉ", "ุงูุนููุงูุฉ"]
                    }
                },
                {
                    "title": "ุชุนูู: ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุญุงุณู",
                    "type": "Reveal",
                    "config": {
                        "image": "๐บ",
                        "sentence": "ุจุฏุงูุฉ ุงุณุชุฎุฏุงู ุงููุนุงุฏู.",
                        "highlights": [
                            {"word": "ุงููุญุงุณ", "explanation": "ุฃูู ูุนุฏู ุงุณุชุฎุฏูู ุงูุฅูุณุงู"},
                            {"word": "ุงูุฑุณู ุงูุฌุฏุงุฑู", "explanation": "ุธูุฑ ูู ุชูููุงุช ุงูุบุณูู"},
                            {"word": "ุทุจูุฉ ุงูุญุฑูููู", "explanation": "ุธูุฑุช ูุฃูู ูุฑุฉ"}
                        ]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงูููุงูุน ูุงูุนุตูุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุฃู ูููุน ูุชุจุน ูุฃู ุนุตุฑุ",
                        "pairs": [
                            {"id": "1", "right": "ูููุน ุฏููุฑุฉ", "left": "ุงูุญุฌุฑู ุงููุฏูู"},
                            {"id": "2", "right": "ุนููู ุงูุญูุงู", "left": "ุงูุญุฌุฑู ุงููุณูุท"},
                            {"id": "3", "right": "ุนูู ุบุฒุงู", "left": "ุงูุญุฌุฑู ุงูุญุฏูุซ"}
                        ]
                    }
                },
                {
                    "title": "ูุฑุงุฌุนุฉ ุดุงููุฉ",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุฃููู ุงููุฑุงุบุงุช",
                        "sentence": "ุนุงุด ุงูุฅูุณุงู ูู ุงููููู ูู ุงูุนุตุฑ {ุงููุฏูู}ุ ุซู ุงูุชูู ูููุฑู ูู ุงูุนุตุฑ {ุงูุญุฏูุซ}.",
                        "blanks": ["ุงููุฏูู", "ุงูุญุฏูุซ"],
                        "distractors": ["ุงูุจุฑููุฒู", "ุงูุญุฏูุฏู", "ุงููุณูุท"]
                    }
                }
            ]
        },
        # --- Lesson 3 ---
        {
            "title": "ุงูุฏุฑุณ 3: ุงูุนุตุฑ ุงูุจุฑููุฒู ูุงูููุงูุน ุงูุฃุซุฑูุฉ",
            "stages": [
                {
                    "title": "ุชุนูู: ุงูุนุตุฑ ุงูุจุฑููุฒู",
                    "type": "Reveal",
                    "config": {
                        "image": "๐ก๏ธ",
                        "sentence": "ุนุตุฑ ุงููุฏู ูุงูุฏูุงุนุงุช.",
                        "highlights": [
                            {"word": "ุงูุจุฑููุฒ", "explanation": "ุฎููุท ูู ุงููุญุงุณ ูุงููุตุฏูุฑ"},
                            {"word": "ุฏูููุงุช ุงููุฏู", "explanation": "ุงููุธุงู ุงูุณูุงุณู ุงูุฌุฏูุฏ"},
                            {"word": "ุงูุฃุณูุงุฑ", "explanation": "ูุญูุงูุฉ ุงููุฏู"}
                        ]
                    }
                },
                {
                    "title": "ููููุงุช ุงูุจุฑููุฒ",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ููุง ูุชููู ุงูุจุฑููุฒุ",
                        "sentence": "ุงูุนุตุฑ ุงูุจุฑููุฒู ูู ุงูุนุตุฑ ุงูุฐู ุงุณุชุฎุฏู ููู ุงูุฅูุณุงู ุฎููุทุงู ูู {ุงููุญุงุณ} ู {ุงููุตุฏูุฑ}.",
                        "blanks": ["ุงููุญุงุณ", "ุงููุตุฏูุฑ"],
                        "distractors": ["ุงูุญุฏูุฏ", "ุงููุถุฉ", "ุงูุฐูุจ"]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ุณูุงุช ุงูุจุฑููุฒู",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ุฑุชุจ ุณูุงุช ุงูุนุตุฑ ุงูุจุฑููุฒู",
                        "sentence": "ุธูุฑุช ุงูุญุงุฌุฉ ูุชุฃุณูุณ ุงููุฏู ูุฅุญุงุทุชูุง ุจุฃุณูุงุฑ ุฏูุงุนูุฉ",
                        "words": ["ุธูุฑุช ุงูุญุงุฌุฉ", "ูุชุฃุณูุณ ุงููุฏู", "ูุฅุญุงุทุชูุง", "ุจุฃุณูุงุฑ ุฏูุงุนูุฉ"]
                    }
                },
                {
                    "title": "ุชูุตูู: ููุงูุน ุงูุนุตุฑ ุงูุจุฑููุฒู",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงุฎุชุฑ ุงูููุงูุน ุงูุจุฑููุฒูุฉ",
                        "pairs": [
                            {"id": "1", "right": "ุจุงุจ ุฐุฑุงุน", "left": "ุบูุฑ ุงูุฃุฑุฏู ุงูุฌููุจู"},
                            {"id": "2", "right": "ุฌุงูุง", "left": "ุงูุจุงุฏูุฉ ุงูุดุฑููุฉ"},
                            {"id": "3", "right": "ุชู ุงูุณุนูุฏูุฉ", "left": "ุบูุฑ ุงูุฃุฑุฏู ุงูุดูุงูู"}
                        ]
                    }
                },
                {
                    "title": "ุชุนูู: ูุงุฏู ูููุงู",
                    "type": "Reveal",
                    "config": {
                        "image": "โ๏ธ",
                        "sentence": "ูุฑูุฒ ุชุนุฏูู ุงููุญุงุณ.",
                        "highlights": [
                            {"word": "ูุงุฏู ูููุงู", "explanation": "ูู ุฃุดูุฑ ููุงูุน ุงุณุชุฎุฑุงุฌ ุงููุญุงุณ"},
                            {"word": "ุงูุนุตุฑ ุงููุญุงุณู", "explanation": "ุงูุนุตุฑ ุงูุฐู ูุชุจุนู ุงููููุน"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุฑุงุน ุงูุนุฌูุฉ",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุชู ุงุฎุชุฑุนุช ุงูุนุฌูุฉุ",
                        "sentence": "ุชู ุงุจุชูุงุฑ ุงูุนุฌูุฉ ูุฏููุงุจ ุงูุฎุฒู ูู ุงูุนุตุฑ {ุงูุจุฑููุฒู}.",
                        "blanks": ["ุงูุจุฑููุฒู"],
                        "distractors": ["ุงูุญุฏูุฏู", "ุงูุญุฌุฑู ุงูุญุฏูุซ"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงูุงุฎุชุฑุงุนุงุช ูุงูุนุตูุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงุฑุจุท ุงูุงุฎุชุฑุงุน ุจุงูุนุตุฑ",
                        "pairs": [
                            {"id": "1", "right": "ุงููุงุฑ", "left": "ุงูุญุฌุฑู ุงููุฏูู"},
                            {"id": "2", "right": "ุงูููุงุฌู ูุงูุฃุฌุฑุงู", "left": "ุงูุญุฌุฑู ุงููุณูุท"},
                            {"id": "3", "right": "ุงูุนุฌูุฉ", "left": "ุงูุนุตุฑ ุงูุจุฑููุฒู"}
                        ]
                    }
                }
            ]
        }
    ]

    # 5. Loop through Data and Insert Lessons/Stages
    for lesson_data in lessons_data:
        # Check if lesson exists to avoid duplicates
        if frappe.db.exists("Game Lesson", {"title": lesson_data["title"]}):
            print(f"โ๏ธ ุงูุฏุฑุณ '{lesson_data['title']}' ููุฌูุฏ ูุณุจูุงูุ ุชู ุชุฎุทูู.")
            continue

        # Create new Lesson
        lesson_doc = frappe.new_doc("Game Lesson")
        lesson_doc.title = lesson_data["title"]
        lesson_doc.unit = unit_title
        lesson_doc.xp_reward = 100
        
        # Add Stages to Child Table
        for stage in lesson_data["stages"]:
            row = lesson_doc.append("stages", {})
            row.title = stage["title"]
            row.type = stage["type"]
            # Convert Dict to JSON string for the 'config' Code field
            row.config = json.dumps(stage["config"], ensure_ascii=False, indent=2)

        lesson_doc.insert()
        frappe.db.commit()
        print(f"๐ ุชู ุฅุถุงูุฉ ุงูุฏุฑุณ: {lesson_data['title']} (ุนุฏุฏ ุงููุฑุงุญู: {len(lesson_data['stages'])})")

    print("\nโโ ุชูุช ุงูุนูููุฉ ุจูุฌุงุญ! ุฌููุน ุงูุฏุฑูุณ ูุงูุฃุณุฆูุฉ ุฃุถููุช.")

# Run the function
create_memora_content()



import frappe
import json

def add_remaining_content():
    unit_title = "ูุญุฏุฉ ุชุฌุฑูุจูุฉ"
    
    # ุชุฃูุฏูุง ูู ุงูุณูุฑุจุช ุงูุณุงุจู ุฃู ุงููุญุฏุฉ ููุฌูุฏุฉุ ูุฐุง ุณูุถูู ุงูุฏุฑูุณ ูุจุงุดุฑุฉ
    
    lessons_data = [
        # ========================================================
        # ุงูุฏุฑุณ 4: ูุชุฎุตุต ูู ุงูููุงูุน ุงูุฃุซุฑูุฉ (ุชุบุทูุฉ ุฃุณุฆูุฉ ุงูููุงูุน)
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 4: ุฌุบุฑุงููุง ุงูููุงูุน ุงูุฃุซุฑูุฉ",
            "stages": [
                {
                    "title": "ุชูุตูู: ุงูููุงูุน ููุญุงูุธุงุชูุง",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุฃูู ููุน ูู ูููุน ุฃุซุฑูุ",
                        "pairs": [
                            {"id": "1", "right": "ูุงุฏู ุฒููุงุจ", "left": "ุฅุฑุจุฏ"},
                            {"id": "2", "right": "ุจุงุจ ุฐุฑุงุน", "left": "ุงููุฑู (ุบูุฑ ุฌููุจู)"},
                            {"id": "3", "right": "ุฌุงูุง", "left": "ุงูููุฑู (ุงูุจุงุฏูุฉ)"},
                            {"id": "4", "right": "ุชู ุงูุณุนูุฏูุฉ", "left": "ุบูุฑ ุงูุฃุฑุฏู ุงูุดูุงูู"}
                        ]
                    }
                },
                {
                    "title": "ุชุนูู: ูููุน ุฏููุฑุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ุฃูุฏู ูููุน ูู ูุงุฑุฉ ุขุณูุง.",
                        "highlights": [
                            {"word": "ุฏููุฑุฉ", "explanation": "ููุน ูู ูุงุฏู ุงูุฒุฑูุงุก"},
                            {"word": "2.5 ููููู ุณูุฉ", "explanation": "ุชุงุฑูุฎ ุงููููุน (ุญุฌุฑู ูุฏูู)"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ูููุน ุงูุฎุฑูุงูุฉ",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุญุฏุฏ ุงููููุน ุงูุฏููู",
                        "sentence": "ููุน ูููุน ุงูุฎุฑูุงูุฉ ุงูุนุงุฆุฏ ููุนุตุฑ ุงูุญุฌุฑู ุงููุณูุท ูู {ุฌููุจ ุดุฑู} ุนูุงู.",
                        "blanks": ["ุฌููุจ ุดุฑู"],
                        "distractors": ["ุดูุงู", "ุบุฑุจ", "ูุณุท"]
                    }
                },
                {
                    "title": "ุชูุตูู: ููุงูุน ุงูุนุตูุฑ ุงูุญุฌุฑูุฉ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุตููู ุงูููุงูุน ุญุณุจ ุงูุนุตุฑ",
                        "pairs": [
                            {"id": "1", "right": "ูุงุฏู ุงูุญุณุง ูุงููุฌูู", "left": "ุนุตุฑ ุญุฌุฑู ูุฏูู"},
                            {"id": "2", "right": "ุงูุฃุฒุฑู ูุงูุฎุฑูุงูุฉ", "left": "ุนุตุฑ ุญุฌุฑู ูุณูุท"},
                            {"id": "3", "right": "ุจุณุทุฉ (ูุนุงู)", "left": "ุนุตุฑ ุญุฌุฑู ุญุฏูุซ"}
                        ]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ูุงุฏู ุฒููุงุจ",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูุง ูู ููุฒุฉ ูุงุฏู ุฒููุงุจุ",
                        "sentence": "ูุนุฏ ูุงุฏู ุฒููุงุจ ุฃูุฏู ููุจุฑุฉ ููุธูุฉ ูู ุงูุนุงูู ูุชุนูุฏ ููุนุตุฑ ุงููุณูุท",
                        "words": ["ูุนุฏ ูุงุฏู ุฒููุงุจ", "ุฃูุฏู ููุจุฑุฉ ููุธูุฉ", "ูู ุงูุนุงูู", "ูุชุนูุฏ", "ููุนุตุฑ ุงููุณูุท"]
                    }
                },
                {
                    "title": "ุชูุตูู: ููุงูุน ุงูุนุตุฑ ุงููุญุงุณู",
                    "type": "Matching",
                    "config": {
                        "instruction": "ููุงูุน ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุญุงุณู",
                        "pairs": [
                            {"id": "1", "right": "ุชูููุงุช ุงูุบุณูู", "left": "ุดูุงู ุงูุจุญุฑ ุงูููุช"},
                            {"id": "2", "right": "ุชู ุฃุจู ุญุงูุฏ", "left": "ุบูุฑ ุงูุฃุฑุฏู ุงูุดูุงูู"},
                            {"id": "3", "right": "ูุงุฏู ูููุงู", "left": "ูุงุฏู ุนุฑุจุฉ (ูุญุงุณ)"}
                        ]
                    }
                }
            ]
        },
        # ========================================================
        # ุงูุฏุฑุณ 5: ุงูุฃุฑูุงู ูุงูุชูุงุฑูุฎ (ุชุบุทูุฉ ุฃุณุฆูุฉ ุงูุชูุงุฑูุฎ ุงูุฏูููุฉ)
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 5: ุงูุฌุฏูู ุงูุฒููู ููุนุตูุฑ",
            "stages": [
                {
                    "title": "ุชูุตูู: ุชูุงุฑูุฎ ุงูุนุตูุฑ (1)",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุทุงุจู ุงููุชุฑุฉ ุงูุฒูููุฉ ุจุงูุนุตุฑ",
                        "pairs": [
                            {"id": "1", "right": "2.5 ููููู - 20,000 ู.ู", "left": "ุญุฌุฑู ูุฏูู"},
                            {"id": "2", "right": "20,000 - 8,500 ู.ู", "left": "ุญุฌุฑู ูุณูุท"},
                            {"id": "3", "right": "8,500 - 4,500 ู.ู", "left": "ุญุฌุฑู ุญุฏูุซ"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงูุนุตุฑ ุงูุญุฏูุฏู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุชู ุจุฏุฃ ุงูุนุตุฑ ุงูุญุฏูุฏูุ",
                        "sentence": "ุชูุณูู ุงููุชุฑุฉ ูู {1200} ู.ู ุฅูู {332} ู.ู ุจุงูุนุตุฑ ุงูุญุฏูุฏู.",
                        "blanks": ["1200", "332"],
                        "distractors": ["2000", "5000", "4500"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุชูุงุฑูุฎ ุงูุนุตูุฑ (2)",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงููุชุฑุงุช ุงููุชุฃุฎุฑุฉ",
                        "pairs": [
                            {"id": "1", "right": "4500 - 2000 ู.ู", "left": "ุญุฌุฑู ูุญุงุณู"},
                            {"id": "2", "right": "2000 - 1200 ู.ู", "left": "ุนุตุฑ ุจุฑููุฒู"},
                            {"id": "3", "right": "16,000 ุณูุฉ", "left": "ุนูุฑ ููุจุฑุฉ ุฒููุงุจ"}
                        ]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ุฅุญุตุงุฆูุงุช ุงูุขุซุงุฑ",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูู ุนุฏุฏ ุงูููุงูุน ุงูุฃุซุฑูุฉุ",
                        "sentence": "ุจูุบ ุนุฏุฏ ุงูููุงูุน ุงูุฃุซุฑูุฉ ุงูููุชุดูุฉ ูุญู ูุฆุฉ ุฃูู ูุงููุณุฌูุฉ ุฎูุณุฉ ุนุดุฑ ุฃููุงู",
                        "words": ["ุจูุบ ุนุฏุฏ", "ุงูููุงูุน ุงูุฃุซุฑูุฉ ุงูููุชุดูุฉ", "ูุญู ูุฆุฉ ุฃูู", "ูุงููุณุฌูุฉ", "ุฎูุณุฉ ุนุดุฑ ุฃููุงู"]
                    }
                }
            ]
        },
        # ========================================================
        # ุงูุฏุฑุณ 6: ุชุทูุฑ ุงูุญูุงุฉ ูุงูุฃุฏูุงุช (ุชุบุทูุฉ ุงูุฃุณุฆูุฉ ุงูููุงููููุฉ)
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 6: ูู ุงูููู ุฅูู ุงููุฏููุฉ",
            "stages": [
                {
                    "title": "ุชุตููู: ูุธุงูุฑ ุงูุชุทูุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ูุงุฐุง ุญุฏุซ ูู ูู ุนุตุฑุ",
                        "pairs": [
                            {"id": "1", "right": "ุชุฏุฌูู ุงูุญููุงูุงุช", "left": "ุจุฏุงูุฉ ุงูุฒุฑุงุนุฉ (ุญุฏูุซ)"},
                            {"id": "2", "right": "ุตูุงุนุฉ ุงููุฎุงุฑ", "left": "ุชุฎุฒูู ุงูุทุนุงู (ุญุฏูุซ)"},
                            {"id": "3", "right": "ุงูุฃุฎุชุงู ุงูุงุณุทูุงููุฉ", "left": "ุชูุธูู ุงูููููุฉ (ูุญุงุณู)"}
                        ]
                    }
                },
                {
                    "title": "ุชุนูู: ุชูุงุซูู ุงูุฌุจุณ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐ฟ",
                        "sentence": "ุงููููู ูู ุงูุนุตุฑ ุงูุญุฌุฑู ุงูุญุฏูุซ.",
                        "highlights": [
                            {"word": "ุนูู ุบุฒุงู", "explanation": "ุงููููุน ุงูุฐู ูุฌุฏุช ููู"},
                            {"word": "ุงูุชูุงุซูู ุงูุฌุจุณูุฉ", "explanation": "ุฃูุฏู ุชูุงุซูู ูู ุงูุนุงูู"}
                        ]
                    }
                },
                {
                    "title": "ุชุฑุชูุจ ุงูุชุทูุฑ ุงูุจุดุฑู",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ุฑุชุจ ูุฑุงุญู ุงูุชุทูุฑ ุงูุชุงุฑูุฎู",
                        "sentence": "ุชุฏุฌูู ุงูุญููุงูุงุช ุซู ุธููุฑ ุงูุณูุทุฉ ุงูุณูุงุณูุฉ ุซู ุชุทูุฑ ุงูุนูุงุฑุฉ ูุงููููู",
                        "words": ["ุชุฏุฌูู ุงูุญููุงูุงุช", "ุซู", "ุธููุฑ ุงูุณูุทุฉ ุงูุณูุงุณูุฉ", "ุซู", "ุชุทูุฑ ุงูุนูุงุฑุฉ ูุงููููู"]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงูุนุตุฑ ุงููุณูุท",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุงุฐุง ูููุฒ ุงูุนุตุฑ ุงููุณูุทุ",
                        "sentence": "ูู ูุฑุญูุฉ ุงูุชูุงููุฉ ูู {ุงูุตูุฏ} ุฅูู {ุงูุฅูุชุงุฌ}ุ ูููู ุตูุนุช ุงูููุงุฌู ูุงูุฃุฌุฑุงู.",
                        "blanks": ["ุงูุตูุฏ", "ุงูุฅูุชุงุฌ"],
                        "distractors": ["ุงูุชุฌุงุฑุฉ", "ุงูุตูุงุนุฉ", "ุงูุชุนุฏูู"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงูููุงุฏ ูุงูุฃุฏูุงุช",
                    "type": "Matching",
                    "config": {
                        "instruction": "ููุง ุตูุน ุงูุฅูุณุงู ุฃุฏูุงุชูุ",
                        "pairs": [
                            {"id": "1", "right": "ุงูุดุธุงูุง ูุงูุนุธุงู", "left": "ุญุฌุฑู ูุฏูู"},
                            {"id": "2", "right": "ูุญุงุณ ููุตุฏูุฑ", "left": "ุนุตุฑ ุจุฑููุฒู"},
                            {"id": "3", "right": "ุฃุฏูุงุช ุฒุฑุงุนูุฉ ูููุงุฌู", "left": "ุญุฌุฑู ูุณูุท/ุญุฏูุซ"}
                        ]
                    }
                },
                {
                    "title": "ุงููุฑุญูุฉ ุงูููุงุฆูุฉ: ุฃุณุจุงุจ ุงูุญุถุงุฑุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ููุงุฐุง ูุงูุช ุงูุญุถุงุฑุงุช ูู ุงูุฃุฑุฏูุ",
                        "highlights": [
                            {"word": "ุงููููุน ุงููุชูุณุท", "explanation": "ุจูู ุงูุดุงู ูุงูุฑุงูุฏูู ููุตุฑ"},
                            {"word": "ุงุนุชุฏุงู ุงูููุงุฎ", "explanation": "ููุฑุฉ ุงูููุงู ูุงูุชุฑุจุฉ ุงูุฎุตุจุฉ"}
                        ]
                    }
                }
            ]
        }
    ]

    for lesson_data in lessons_data:
        if frappe.db.exists("Game Lesson", {"title": lesson_data["title"]}):
            print(f"โ๏ธ ุงูุฏุฑุณ '{lesson_data['title']}' ููุฌูุฏ ูุณุจูุงู.")
            continue

        lesson_doc = frappe.new_doc("Game Lesson")
        lesson_doc.title = lesson_data["title"]
        lesson_doc.unit = unit_title
        lesson_doc.xp_reward = 150 
        
        for stage in lesson_data["stages"]:
            row = lesson_doc.append("stages", {})
            row.title = stage["title"]
            row.type = stage["type"]
            row.config = json.dumps(stage["config"], ensure_ascii=False, indent=2)

        lesson_doc.insert()
        frappe.db.commit()
        print(f"๐ ุชู ุฅุถุงูุฉ ุงูุฏุฑุณ ุงูุชููููู: {lesson_data['title']}")

    print("\nโโ ุชู ุงุณุชููุงู ุฌููุน ุงูุฃุณุฆูุฉ ูุงูุชูุงุตูู ุงูุขู!")

add_remaining_content()



import frappe
import json

def add_final_missing_content():
    unit_title = "ูุญุฏุฉ ุชุฌุฑูุจูุฉ"
    
    lessons_data = [
        # ========================================================
        # ุงูุฏุฑุณ 7: ุชูุงุตูู ุงูููุงูุน ุงููุชูุฏูุฉ (ูุณุฏ ุซุบุฑุงุช ุงูุฌุบุฑุงููุง)
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 7: ุชูุงุตูู ุงูููุงูุน ุงููุชูุฏูุฉ",
            "stages": [
                {
                    "title": "ููุงุฑูุฉ: ุฅุญุตุงุฆูุงุช ุงูููุงูุน",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ููุฒ ุจูู ุงูููุงูุน ุงูููุชุดูุฉ ูุงููุณุฌูุฉ",
                        "sentence": "ุนุฏุฏ ุงูููุงูุน ุงูุฃุซุฑูุฉ ุงูููุชุดูุฉ {100000} ูููุนุ ุจูููุง ุงููุณุฌูุฉ {15000} ูููุน.",
                        "blanks": ["100000", "15000"],
                        "distractors": ["50000", "9000", "200000"]
                    }
                },
                {
                    "title": "ุชูุตูู: ููุงูุน ุงูุดูุงู (ุฅุฑุจุฏ ูุฌุฑุด)",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงููููุน ูุงููุญุงูุธุฉ",
                        "pairs": [
                            {"id": "1", "right": "ุชู ุฃุจู ุงูุตููุงู", "left": "ุฌุฑุด (ุญุฌุฑู ุญุฏูุซ)"},
                            {"id": "2", "right": "ุทุจูุฉ ูุญู", "left": "ุฅุฑุจุฏ (ุญุฌุฑู ูุฏูู)"},
                            {"id": "3", "right": "ุชู ุงูุดููุฉ ุงูุดูุงููุฉ", "left": "ุฅุฑุจุฏ (ุญุฌุฑู ูุญุงุณู)"}
                        ]
                    }
                },
                {
                    "title": "ุชุนูู: ูููุน ุจุณุทุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐บ",
                        "sentence": "ูููุน ุฌููุจู ูุงู.",
                        "highlights": [
                            {"word": "ุจุณุทุฉ", "explanation": "ูููุน ูู ูุญุงูุธุฉ ูุนุงู"},
                            {"word": "ุงูุญุฌุฑู ุงูุญุฏูุซ", "explanation": "ุงูุนุตุฑ ุงูุฐู ูุชุจุนู ุงููููุน"}
                        ]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ุชู ุฃุจู ุญุงูุฏ",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ุฃูู ููุน ุชู ุฃุจู ุญุงูุฏุ",
                        "sentence": "ููุน ุชู ุฃุจู ุญุงูุฏ ูู ุบูุฑ ุงูุฃุฑุฏู ุงูุดูุงูู ููุนูุฏ ููุนุตุฑ ุงูุญุฌุฑู ุงููุญุงุณู",
                        "words": ["ููุน ุชู ุฃุจู ุญุงูุฏ", "ูู ุบูุฑ ุงูุฃุฑุฏู ุงูุดูุงูู", "ููุนูุฏ", "ููุนุตุฑ ุงูุญุฌุฑู ุงููุญุงุณู"]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ููุงูุน ุนูุงู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุญุฏุฏ ูููุน ุงูุฎุฑูุงูุฉ ุจุฏูุฉ",
                        "sentence": "ููุน ูุตุฑ ุงูุฎุฑูุงูุฉ ูู {ุฌููุจ ุดุฑู} ุนูุงูุ ุจูููุง ุนูู ุบุฒุงู ูู {ุนูุงู}.",
                        "blanks": ["ุฌููุจ ุดุฑู", "ุนูุงู"],
                        "distractors": ["ุดูุงู", "ุบุฑุจ", "ุงูุฒุฑูุงุก"]
                    }
                },
                {
                    "title": "ุชูุตูู: ููุงูุน ุงูุนุตุฑ ุงูุจุฑููุฒู",
                    "type": "Matching",
                    "config": {
                        "instruction": "ููุงูุน ุงูุนุตุฑ ุงูุจุฑููุฒู",
                        "pairs": [
                            {"id": "1", "right": "ุจุงุจ ุฐุฑุงุน", "left": "ุงููุฑู"},
                            {"id": "2", "right": "ุฌุงูุง", "left": "ุงูููุฑู"},
                            {"id": "3", "right": "ุชู ุงูุณุนูุฏูุฉ", "left": "ุงูุบูุฑ ุงูุดูุงูู"}
                        ]
                    }
                },
                 {
                    "title": "ุชุตููู: ุนุตูุฑ ุงูููุงูุน",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงุฑุจุท ุงููููุน ุจุงูุนุตุฑ",
                        "pairs": [
                            {"id": "1", "right": "ุชู ุงูุดููุฉ", "left": "ุญุฌุฑู ูุญุงุณู"},
                            {"id": "2", "right": "ุทุจูุฉ ูุญู", "left": "ุญุฌุฑู ูุฏูู"},
                            {"id": "3", "right": "ุจุณุทุฉ", "left": "ุญุฌุฑู ุญุฏูุซ"}
                        ]
                    }
                }
            ]
        },
        # ========================================================
        # ุงูุฏุฑุณ 8: ุงูููุงููู ุงูุฏูููุฉ (ุชุญููู ุฃุณุฆูุฉ "ูุง ุนุฏุง" ุฅูู ุญูุงุฆู)
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 8: ุฎุตุงุฆุต ุงูุนุตูุฑ ุงูุฏูููุฉ",
            "stages": [
                {
                    "title": "ุชุนูู: ุงููุฑุญูุฉ ุงูุงูุชูุงููุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ูุฑุญูุฉ ุงูุชุญูู ุงูุจุดุฑู.",
                        "highlights": [
                            {"word": "ุงูุญุฌุฑู ุงููุณูุท", "explanation": "ูุฑุญูุฉ ุงูุชูุงููุฉ ูุญู ุงูุฅูุชุงุฌ"},
                            {"word": "ุงูููุจ", "explanation": "ุฃูู ุญููุงู ุชู ุชุฏุฌููู (ูุณูุท)"}
                        ]
                    }
                },
                {
                    "title": "ุชุฑุชูุจ: ุงูุชุณูุณู ุงูุญุถุงุฑู",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ุฑุชุจ ุธููุฑ ุงูุฎุตุงุฆุต",
                        "sentence": "ุฌูุน ุงูุทุนุงู ุซู ุฅูุชุงุฌ ุงูุทุนุงู ุซู ูุงุฆุถ ุงูุฅูุชุงุฌ ุซู ุงูุชุฌุงุฑุฉ",
                        "words": ["ุฌูุน ุงูุทุนุงู", "ุซู", "ุฅูุชุงุฌ ุงูุทุนุงู", "ุซู", "ูุงุฆุถ ุงูุฅูุชุงุฌ", "ุซู", "ุงูุชุฌุงุฑุฉ"]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุณูุงุช ุงููุญุงุณู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุงุฐุง ุธูุฑ ูู ุงูุนุตุฑ ุงููุญุงุณูุ",
                        "sentence": "ุธูุฑุช ุทุจูุฉ ูู {ุงูุญุฑูููู} ูุงูุตูุงุนุ ูุจุฏุฃ ุงูุฅูุณุงู ุจู {ุฏูู} ุงูููุชู.",
                        "blanks": ["ุงูุญุฑูููู", "ุฏูู"],
                        "distractors": ["ุงููููุฉ", "ุญุฑู", "ุงูุฌููุฏ"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงูุฅูุฌุงุฒ ูุงูุนุตุฑ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุฅูุฌุงุฒุงุช ุงูุนุตูุฑ",
                        "pairs": [
                            {"id": "1", "right": "ุงูููููุฉ ุงููุฑุฏูุฉ", "left": "ุญุฌุฑู ุญุฏูุซ"},
                            {"id": "2", "right": "ุงูุฑุณู ุงูุฌุฏุงุฑู", "left": "ุญุฌุฑู ูุญุงุณู"},
                            {"id": "3", "right": "ูุธุงู ุฏูููุงุช ุงููุฏู", "left": "ุจุฑููุฒู"}
                        ]
                    }
                },
                {
                    "title": "ุชุตุญูุญ ุงูููุงููู (ูุง ุนุฏุง)",
                    "type": "Reveal",
                    "config": {
                        "image": "โ",
                        "sentence": "ูุง ูู ูุญุฏุซ ูู ุงูุนุตูุฑ ุงููุฏููุฉ.",
                        "highlights": [
                            {"word": "ุฒุฑุงุนุฉ ุงููุจุงุชุงุช", "explanation": "ูู ุชุญุฏุซ ูู ุงูุญุฌุฑู ุงููุฏูู"},
                            {"word": "ุงููุฏู ุงููุณูุฑุฉ", "explanation": "ูู ุชุธูุฑ ูู ุงูุญุฌุฑู ุงููุญุงุณู"}
                        ]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ุงูุชูุฏู",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูุชู ุจุฏุฃ ุงูุชูุฏู ุงูุญููููุ",
                        "sentence": "ูุนุฏ ุงูุนุตุฑ ุงูุจุฑููุฒู ุฃูู ูุฑุงุญู ุงูุชูุฏู ุงูุญูููู ูููู ุงููุฏู",
                        "words": ["ูุนุฏ ุงูุนุตุฑ ุงูุจุฑููุฒู", "ุฃูู ูุฑุงุญู", "ุงูุชูุฏู ุงูุญูููู", "ูููู ุงููุฏู"]
                    }
                },
                 {
                    "title": "ุงุฎุชุจุงุฑ: ููุงุฏ ุงูุจูุงุก",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ุชุทูุฑ ุงูุจูุงุก",
                        "sentence": "ูู ุงูุญุฌุฑู ุงูุญุฏูุซ ุจูู ุงูุฅูุณุงู ุจููุชู ูู {ุงูููุงุฏ ุงููุชูุงูุฑุฉ ูุญููุงู} ุจุดูู {ููุฏุณู}.",
                        "blanks": ["ุงูููุงุฏ ุงููุชูุงูุฑุฉ ูุญููุงู", "ููุฏุณู"],
                        "distractors": ["ุงูุญุฏูุฏ", "ุนุดูุงุฆู", "ุงูุงุณููุช"]
                    }
                }
            ]
        },
        # ========================================================
        # ุงูุฏุฑุณ 9: ุงูุชูุงุฑูุฎ ูุงูุฃุฑูุงู ุงูููุงุฆูุฉ
        # ========================================================
        {
            "title": "ุงูุฏุฑุณ 9: ุฅุชูุงู ุงูุชูุงุฑูุฎ",
            "stages": [
                {
                    "title": "ุชูุตูู: ุงููุชุฑุงุช ุงูุฒูููุฉ ุงููุชุจููุฉ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุงููุชุฑุงุช ุงูุฏูููุฉ",
                        "pairs": [
                            {"id": "1", "right": "100,000 ุณูุฉ", "left": "ูุง ุชูุซู ุฃูุฏู ุจูุงูุง"},
                            {"id": "2", "right": "16,000 ุณูุฉ", "left": "ุนูุฑ ููุจุฑุฉ ูุงุฏู ุฒููุงุจ"},
                            {"id": "3", "right": "3500 ู.ู", "left": "ุจุฏุงูุฉ ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงุณู ุงูุฃุฑุฏู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ูุฑุงุฌุนุฉ ุงูุชุณููุฉ",
                        "sentence": "ุชุชุฃูู ูููุฉ ุงูุฃุฑุฏู ูู {ุฌูุฑ} ู {ุฏุงู} ูุชุนูู ุงูุฑุงูุฏุงู ุงูุดูุงููุงู.",
                        "blanks": ["ุฌูุฑ", "ุฏุงู"],
                        "distractors": ["ุฌุงู", "ุฏูุฑ", "ุจุงููุงุณ"]
                    }
                },
                {
                    "title": "ุจูุงุก ุฌููุฉ: ุฃุตู ุงูุชุณููุฉ",
                    "type": "Sentence Builder",
                    "config": {
                        "instruction": "ูุง ูุนูู ุฌูุฑุฏุงูุ",
                        "sentence": "ูููุฉ ุฌูุฑุฏุงู ุชุนูู ุงูููุฑ ุงููุชุนุฑุฌ ุดุฏูุฏ ุงูุงูุญุฏุงุฑ",
                        "words": ["ูููุฉ ุฌูุฑุฏุงู", "ุชุนูู", "ุงูููุฑ ุงููุชุนุฑุฌ", "ุดุฏูุฏ ุงูุงูุญุฏุงุฑ"]
                    }
                },
                {
                    "title": "ุชูุตูู: ุงูููุงูุน ูุงููุญุงูุธุงุช (ููุงุฆู)",
                    "type": "Matching",
                    "config": {
                        "instruction": "ุชุซุจูุช ุงูููุงูุน",
                        "pairs": [
                            {"id": "1", "right": "ูุงุฏู ูููุงู", "left": "ูุฑุจ ูุงุฏู ุนุฑุจุฉ"},
                            {"id": "2", "right": "ุชูููุงุช ุงูุบุณูู", "left": "ุดูุงู ุงูุจุญุฑ ุงูููุช"},
                            {"id": "3", "right": "ุชู ุงูุณุนูุฏูุฉ", "left": "ุบูุฑ ุงูุฃุฑุฏู"}
                        ]
                    }
                },
                {
                    "title": "ุชุนูู: ุงูุนุตูุฑ ุงููุฏููุฉ",
                    "type": "Reveal",
                    "config": {
                        "image": "๐",
                        "sentence": "ุชูุณูู ุงูุนููุงุก ููุนุตูุฑ.",
                        "highlights": [
                            {"word": "ูุง ูุจู ุงูุชุงุฑูุฎ", "explanation": "ูุจู ุงููุชุงุจุฉ"},
                            {"word": "ุงูุชุงุฑูุฎูุฉ", "explanation": "ุจุนุฏ ุงููุชุงุจุฉ"}
                        ]
                    }
                },
                {
                    "title": "ุงุฎุชุจุงุฑ: ุงูุนุตุฑ ุงูุญุฏูุฏู",
                    "type": "Fill Blank",
                    "config": {
                        "instruction": "ููุงูุฉ ุงูุนุตูุฑ",
                        "sentence": "ุงูุชูู ุงูุนุตุฑ ุงูุญุฏูุฏู ุนุงู {332} ูุจู ุงููููุงุฏ.",
                        "blanks": ["332"],
                        "distractors": ["1200", "539", "636"]
                    }
                },
                 {
                    "title": "ุชูุตูู: ูุฑุงุฌุนุฉ ุดุงููุฉ",
                    "type": "Matching",
                    "config": {
                        "instruction": "ูุฑุงุฌุนุฉ ุนุงูุฉ",
                        "pairs": [
                            {"id": "1", "right": "ุงูุนุตุฑ ุงูุจุฑููุฒู", "left": "ุงุฎุชุฑุงุน ุงูุนุฌูุฉ"},
                            {"id": "2", "right": "ุงูุญุฌุฑู ุงููุฏูู", "left": "ุงุณุชุฎุฏุงู ุงููุงุฑ"},
                            {"id": "3", "right": "ุงูุญุฌุฑู ุงูุญุฏูุซ", "left": "ูุฑู ุฒุฑุงุนูุฉ"}
                        ]
                    }
                }
            ]
        }
    ]

    for lesson_data in lessons_data:
        if frappe.db.exists("Game Lesson", {"title": lesson_data["title"]}):
            print(f"โ๏ธ ุงูุฏุฑุณ '{lesson_data['title']}' ููุฌูุฏ ูุณุจูุงู.")
            continue

        lesson_doc = frappe.new_doc("Game Lesson")
        lesson_doc.title = lesson_data["title"]
        lesson_doc.unit = unit_title
        lesson_doc.xp_reward = 200 
        
        for stage in lesson_data["stages"]:
            row = lesson_doc.append("stages", {})
            row.title = stage["title"]
            row.type = stage["type"]
            row.config = json.dumps(stage["config"], ensure_ascii=False, indent=2)

        lesson_doc.insert()
        frappe.db.commit()
        print(f"๐ ุชู ุฅุถุงูุฉ ุงูุฏุฑุณ ุงูููุงุฆู: {lesson_data['title']}")

    print("\nโโ ุงูุชูู ุงููุธุงู: 65 ุณุคุงู ุชู ุชุญููููุง ุจุงููุงูู ุฅูู ุฏุฑูุณ ุชูุงุนููุฉ!")

add_final_missing_content()



import frappe
import json

def fix_reveal_sentences():
    # ูุงุฆูุฉ ุจุงูุชุนุฏููุงุช ุงููุทููุจุฉ:
    # Key: ุนููุงู ุงูุฏุฑุณ
    # Value: ูุงุฆูุฉ ุชุญุชูู ุนูู ุนููุงู ุงููุฑุญูุฉ (Stage) ูุงูุชูููู ุงูุฌุฏูุฏ (Config)
    
    updates = {
        "ุงูุฏุฑุณ 1: ุงูุชุณููุฉ ูุจุฏุงูุฉ ุงูุชุงุฑูุฎ": [
            {
                "stage_title": "ุชุนูู: ูุนูู ุงุณู ุงูุฃุฑุฏู",
                "new_config": {
                    "image": "๐",
                    "sentence": "ุนุฑู ุงูุฃุฑุฏู ุฅุบุฑูููุงู ุจุงุณู ููุฑุฏุงูููุ ูุนูุฏ ุงูุนุฑุจ ุชุนูู ุงูุดุฏูุฉ ูุงูุบููุจุฉ.",
                    "highlights": [
                        {"word": "ููุฑุฏุงููู", "explanation": "ุงูุงุณู ุงูุฅุบุฑููู ููุฃุฑุฏู"},
                        {"word": "ุงูุดุฏูุฉ ูุงูุบููุจุฉ", "explanation": "ูุนูู ุงูุฃุฑุฏู ุนูุฏ ุงูุนุฑุจ"}
                    ]
                }
            },
            {
                "stage_title": "ุชุนูู: ุงุฎุชุฑุงุน ุงููุชุงุจุฉ",
                "new_config": {
                    "image": "๐",
                    "sentence": "ุจุฏุฃุช ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ ุจุนุฏ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ ุนุงู 3500 ู.ู.",
                    "highlights": [
                        {"word": "3500 ู.ู", "explanation": "ุชุงุฑูุฎ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"},
                        {"word": "ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ", "explanation": "ุจุฏุฃุช ุจุนุฏ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 2: ุงูุนุตูุฑ ุงูุญุฌุฑูุฉ ูุชุทูุฑ ุงูุฅูุณุงู": [
            {
                "stage_title": "ุชุนูู: ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุฏูู",
                "new_config": {
                    "image": "๐ฅ",
                    "sentence": "ุนุงุด ุงูุฅูุณุงู ูู ุงููููู ูุนุชูุฏุงู ุนูู ุงูุฌูุน ูุงูุงูุชูุงุท ูุงูุชุดู ุงููุงุฑ.",
                    "highlights": [
                        {"word": "ุงูุฌูุน ูุงูุงูุชูุงุท", "explanation": "ุทุฑููุฉ ุงูุนูุด ุงูุฃุณุงุณูุฉ"},
                        {"word": "ุงููููู", "explanation": "ููุงู ุงูุณูู"},
                        {"word": "ุงููุงุฑ", "explanation": "ุฃูู ุงูุชุดุงู ูู ูุฐุง ุงูุนุตุฑ"}
                    ]
                }
            },
            {
                "stage_title": "ุชุนูู: ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุญุงุณู",
                "new_config": {
                    "image": "๐บ",
                    "sentence": "ุงุณุชุฎุฏู ุงูุฅูุณุงู ุงููุญุงุณ ูุธูุฑุช ุทุจูุฉ ุงูุญุฑูููู ููููู ุงูุฑุณู ุงูุฌุฏุงุฑู.",
                    "highlights": [
                        {"word": "ุงููุญุงุณ", "explanation": "ุฃูู ูุนุฏู ุงุณุชุฎุฏูู ุงูุฅูุณุงู"},
                        {"word": "ุงูุฑุณู ุงูุฌุฏุงุฑู", "explanation": "ุธูุฑ ูู ุชูููุงุช ุงูุบุณูู"},
                        {"word": "ุทุจูุฉ ุงูุญุฑูููู", "explanation": "ุธูุฑุช ูุฃูู ูุฑุฉ ูุชุฎุตุต ุงูุนูู"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 3: ุงูุนุตุฑ ุงูุจุฑููุฒู ูุงูููุงูุน ุงูุฃุซุฑูุฉ": [
            {
                "stage_title": "ุชุนูู: ุงูุนุตุฑ ุงูุจุฑููุฒู",
                "new_config": {
                    "image": "๐ก๏ธ",
                    "sentence": "ุชููุฒ ุงูุนุตุฑ ุจุงุณุชุฎุฏุงู ูุนุฏู ุงูุจุฑููุฒ ูุธููุฑ ูุธุงู ุฏูููุงุช ุงููุฏู ุงููุญุงุทุฉ ุจู ุงูุฃุณูุงุฑ.",
                    "highlights": [
                        {"word": "ุงูุจุฑููุฒ", "explanation": "ุฎููุท ูู ุงููุญุงุณ ูุงููุตุฏูุฑ"},
                        {"word": "ุฏูููุงุช ุงููุฏู", "explanation": "ุงููุธุงู ุงูุณูุงุณู ุงูุฌุฏูุฏ"},
                        {"word": "ุงูุฃุณูุงุฑ", "explanation": "ุจููุช ูุญูุงูุฉ ุงููุฏู"}
                    ]
                }
            },
            {
                "stage_title": "ุชุนูู: ูุงุฏู ูููุงู",
                "new_config": {
                    "image": "โ๏ธ",
                    "sentence": "ูุนุฏ ูุงุฏู ูููุงู ุฃุดูุฑ ููุงูุน ุงุณุชุฎุฑุงุฌ ุงููุญุงุณ ูู ุงูุนุตุฑ ุงููุญุงุณู.",
                    "highlights": [
                        {"word": "ูุงุฏู ูููุงู", "explanation": "ูููุน ูู ูุงุฏู ุนุฑุจุฉ"},
                        {"word": "ุงูุนุตุฑ ุงููุญุงุณู", "explanation": "ุงูุนุตุฑ ุงูุฐู ูุชุจุนู ุงููููุน"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 4: ุฌุบุฑุงููุง ุงูููุงูุน ุงูุฃุซุฑูุฉ": [
            {
                "stage_title": "ุชุนูู: ูููุน ุฏููุฑุฉ",
                "new_config": {
                    "image": "๐",
                    "sentence": "ูุนุฏ ูููุน ุฏููุฑุฉ ูู ูุงุฏู ุงูุฒุฑูุงุก ุฃูุฏู ูููุน ููุนูุฏ ูู 2.5 ููููู ุณูุฉ.",
                    "highlights": [
                        {"word": "ุฏููุฑุฉ", "explanation": "ููุน ูู ูุงุฏู ุงูุฒุฑูุงุก"},
                        {"word": "2.5 ููููู ุณูุฉ", "explanation": "ุชุงุฑูุฎ ุงููููุน (ุญุฌุฑู ูุฏูู)"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 6: ูู ุงูููู ุฅูู ุงููุฏููุฉ": [
            {
                "stage_title": "ุชุนูู: ุชูุงุซูู ุงูุฌุจุณ",
                "new_config": {
                    "image": "๐ฟ",
                    "sentence": "ุงูุชุดูุช ูู ูููุน ุนูู ุบุฒุงู ุฃูุฏู ุงูุชูุงุซูู ุงูุฌุจุณูุฉ ูู ุงูุนุงูู.",
                    "highlights": [
                        {"word": "ุนูู ุบุฒุงู", "explanation": "ุงููููุน ุงูุฐู ูุฌุฏุช ููู"},
                        {"word": "ุงูุชูุงุซูู ุงูุฌุจุณูุฉ", "explanation": "ูุธูุฑ ููู ููุนุตุฑ ุงูุญุฌุฑู ุงูุญุฏูุซ"}
                    ]
                }
            },
            {
                "stage_title": "ุงููุฑุญูุฉ ุงูููุงุฆูุฉ: ุฃุณุจุงุจ ุงูุญุถุงุฑุฉ",
                "new_config": {
                    "image": "๐",
                    "sentence": "ูุดุฃุช ุงูุญุถุงุฑุงุช ุจุณุจุจ ุงููููุน ุงููุชูุณุท ู ุงุนุชุฏุงู ุงูููุงุฎ ูููุฑุฉ ุงูููุงู.",
                    "highlights": [
                        {"word": "ุงููููุน ุงููุชูุณุท", "explanation": "ุจูู ุงูุดุงู ูุงูุฑุงูุฏูู ููุตุฑ"},
                        {"word": "ุงุนุชุฏุงู ุงูููุงุฎ", "explanation": "ุนุงูู ุฌุฐุจ ููุงุณุชูุฑุงุฑ ุงูุจุดุฑู"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 7: ุชูุงุตูู ุงูููุงูุน ุงููุชูุฏูุฉ": [
            {
                "stage_title": "ุชุนูู: ูููุน ุจุณุทุฉ",
                "new_config": {
                    "image": "๐บ",
                    "sentence": "ููุน ูููุน ุจุณุทุฉ ูู ูุญุงูุธุฉ ูุนุงู ููุนูุฏ ููุนุตุฑ ุงูุญุฌุฑู ุงูุญุฏูุซ.",
                    "highlights": [
                        {"word": "ุจุณุทุฉ", "explanation": "ูููุน ุฌููุจู ูุงู"},
                        {"word": "ุงูุญุฌุฑู ุงูุญุฏูุซ", "explanation": "ุงูุนุตุฑ ุงูุฐู ูุชุจุนู ุงููููุน"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 8: ุฎุตุงุฆุต ุงูุนุตูุฑ ุงูุฏูููุฉ": [
            {
                "stage_title": "ุชุนูู: ุงููุฑุญูุฉ ุงูุงูุชูุงููุฉ",
                "new_config": {
                    "image": "๐",
                    "sentence": "ูุนุชุจุฑ ุงูุนุตุฑ ุงูุญุฌุฑู ุงููุณูุท ูุฑุญูุฉ ุงูุชูุงููุฉุ ูููู ุชู ุชุฏุฌูู ุงูููุจ.",
                    "highlights": [
                        {"word": "ุงูุญุฌุฑู ุงููุณูุท", "explanation": "ุจูู ุงูุตูุฏ ูุงูุฒุฑุงุนุฉ"},
                        {"word": "ุงูููุจ", "explanation": "ุฃูู ุญููุงู ุชู ุชุฏุฌููู"}
                    ]
                }
            },
            {
                "stage_title": "ุชุตุญูุญ ุงูููุงููู (ูุง ุนุฏุง)",
                "new_config": {
                    "image": "โ",
                    "sentence": "ูู ูุนุฑู ุงูุฅูุณุงู ุฒุฑุงุนุฉ ุงููุจุงุชุงุช ูู ุงูุญุฌุฑู ุงููุฏูู ููู ูุจู ุงููุฏู ุงููุณูุฑุฉ ูู ุงููุญุงุณู.",
                    "highlights": [
                        {"word": "ุฒุฑุงุนุฉ ุงููุจุงุชุงุช", "explanation": "ุธูุฑุช ูุงุญูุงู ูู ุงูุญุฏูุซ"},
                        {"word": "ุงููุฏู ุงููุณูุฑุฉ", "explanation": "ุธูุฑุช ูุงุญูุงู ูู ุงูุจุฑููุฒู"}
                    ]
                }
            }
        ],
        "ุงูุฏุฑุณ 9: ุฅุชูุงู ุงูุชูุงุฑูุฎ": [
            {
                "stage_title": "ุชุนูู: ุงูุนุตูุฑ ุงููุฏููุฉ",
                "new_config": {
                    "image": "๐",
                    "sentence": "ุงุชูู ุงูุนููุงุก ุนูู ุชูุณูู ุงูุนุตูุฑ ุฅูู ุนุตูุฑ ูุง ูุจู ุงูุชุงุฑูุฎ ู ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ.",
                    "highlights": [
                        {"word": "ูุง ูุจู ุงูุชุงุฑูุฎ", "explanation": "ูุจู ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"},
                        {"word": "ุงูุนุตูุฑ ุงูุชุงุฑูุฎูุฉ", "explanation": "ุจุนุฏ ุงุฎุชุฑุงุน ุงููุชุงุจุฉ"}
                    ]
                }
            }
        ]
    }

    print("๐ ุฌุงุฑู ุชุญุฏูุซ ุฌูู ุงูู Reveal...")

    for lesson_title, stages_updates in updates.items():
        # ุงูุจุญุซ ุนู ุงูุฏุฑุณ
        if frappe.db.exists("Game Lesson", {"title": lesson_title}):
            lesson_doc = frappe.get_doc("Game Lesson", {"title": lesson_title})
            modified = False
            
            for update in stages_updates:
                # ุงูุจุญุซ ุนู ุงููุฑุญูุฉ ุฏุงุฎู ุงูุฌุฏูู (Child Table)
                for row in lesson_doc.stages:
                    if row.title == update["stage_title"] and row.type == "Reveal":
                        row.config = json.dumps(update["new_config"], ensure_ascii=False, indent=2)
                        print(f"โ ุชู ุชุญุฏูุซ: {lesson_title} -> {row.title}")
                        modified = True
                        break
            
            if modified:
                lesson_doc.save()
                frappe.db.commit()
        else:
            print(f"โ๏ธ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุฏุฑุณ: {lesson_title}")

    print("\nโจ ุชูุช ุนูููุฉ ุงูุชุตุญูุญ ุจูุฌุงุญ!")

fix_reveal_sentences()